% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/smd_calc.R
\name{smd_calc}
\alias{smd_calc}
\alias{smd_calc.default}
\alias{smd_calc.formula}
\title{Standardized Mean Difference (SMD) Calculation}
\usage{
smd_calc(
  x,
  ...,
  paired = FALSE,
  var.equal = FALSE,
  alpha = 0.05,
  bias_correction = TRUE,
  rm_correction = FALSE,
  glass = NULL,
  smd_ci = c("nct", "goulet", "t", "z"),
  output = c("htest", "data.frame"),
  null.value = 0,
  alternative = c("none", "two.sided", "less", "greater", "equivalence",
    "minimal.effect"),
  test_method = c("z", "t")
)

\method{smd_calc}{default}(
  x,
  y = NULL,
  paired = FALSE,
  var.equal = FALSE,
  alpha = 0.05,
  mu = 0,
  bias_correction = TRUE,
  rm_correction = FALSE,
  glass = NULL,
  smd_ci = c("nct", "goulet", "t", "z"),
  output = c("htest", "data.frame"),
  null.value = 0,
  alternative = c("none", "two.sided", "less", "greater", "equivalence",
    "minimal.effect"),
  test_method = c("z", "t"),
  ...
)

\method{smd_calc}{formula}(formula, data, subset, na.action, ...)
}
\arguments{
\item{x}{a (non-empty) numeric vector of data values.}

\item{...}{further arguments to be passed to or from methods.}

\item{paired}{a logical indicating whether you want a paired t-test. Cannot be used with the formula method; use x and y vectors instead for paired tests.}

\item{var.equal}{a logical variable indicating whether to treat the two variances as being equal. If TRUE then the pooled variance is used to estimate the variance otherwise the Welch (or Satterthwaite) approximation to the degrees of freedom is used.}

\item{alpha}{alpha level (default = 0.05)}

\item{bias_correction}{Apply Hedges' correction for bias (default is TRUE).}

\item{rm_correction}{Repeated measures correction to make standardized mean difference Cohen's d(rm). This only applies to repeated/paired samples. Default is FALSE.}

\item{glass}{An option to calculate Glass's delta as an alternative to Cohen's d type SMD. Default is NULL to not calculate Glass's delta, 'glass1' will use the first group's SD as the denominator whereas 'glass2' will use the 2nd group's SD.}

\item{smd_ci}{Method for calculating SMD confidence intervals. Methods include 'goulet', 'noncentral t' (nct), 'central t' (t), and 'normal method' (z).}

\item{output}{a character string specifying the output format:
- "htest": (default) Returns an object of class "htest" compatible with standard R output.
- "data.frame": Returns a data frame for backward compatibility.}

\item{null.value}{a number or vector specifying the null hypothesis value(s) on the SMD scale:
- For standard alternatives: a single value (default = 0)
- For equivalence/minimal.effect: two values representing the lower and upper bounds}

\item{alternative}{a character string specifying the alternative hypothesis:
- "none": (default) No hypothesis test is performed; only effect size and CI are returned.
- "two.sided": Test whether SMD differs from null.value
- "less": Test whether SMD is less than null.value
- "greater": Test whether SMD is greater than null.value
- "equivalence": Test whether SMD is between specified bounds
- "minimal.effect": Test whether SMD is outside specified bounds}

\item{test_method}{a character string specifying the method for hypothesis testing:
- "z": Use z-statistic (normal distribution)
- "t": Use t-statistic with degrees of freedom from the SMD calculation}

\item{y}{an optional (non-empty) numeric vector of data values.}

\item{mu}{a number indicating the true value of the mean for the two-tailed test (or difference in means if you are performing a two sample test).}

\item{formula}{a formula of the form lhs ~ rhs where lhs is a numeric variable giving the data values and rhs either 1 for a one-sample test or a factor with two levels giving the corresponding groups. For paired tests, use the default method with x and y vectors instead of the formula method.}

\item{data}{an optional matrix or data frame (or similar: see model.frame) containing the variables in the formula formula. By default the variables are taken from environment(formula).}

\item{subset}{an optional vector specifying a subset of observations to be used.}

\item{na.action}{a function which indicates what should happen when the data contain NAs. Defaults to getOption("na.action").}
}
\value{
If \code{output = "htest"} (default), returns a list with class \code{"htest"} containing:
\itemize{
\item estimate: The SMD estimate (Cohen's d, Hedges' g, or Glass's delta)
\item stderr: Standard error of the estimate
\item conf.int: Confidence interval with conf.level attribute
\item alternative: A character string describing the alternative hypothesis
\item method: A character string indicating what type of test was performed
\item data.name: A character string giving the name(s) of the data
\item statistic: Test statistic (only if alternative != "none")
\item parameter: Degrees of freedom (only if test_method = "t" and alternative != "none")
\item p.value: P-value for the test (only if alternative != "none")
\item null.value: The specified hypothesized value(s) (only if alternative != "none")
}

If \code{output = "data.frame"}, returns a data frame containing:
\itemize{
\item estimate: The SMD estimate
\item SE: Standard error of the estimate
\item lower.ci: Lower bound of the confidence interval
\item upper.ci: Upper bound of the confidence interval
\item conf.level: Confidence level (1-alpha)
}
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#stable}{\figure{lifecycle-stable.svg}{options: alt='[Stable]'}}}{\strong{[Stable]}}

Calculates standardized mean difference (SMD) effect sizes and their confidence intervals
from raw data, with optional hypothesis testing.
}
\details{
This function calculates standardized mean differences (SMD) for various study designs:
\itemize{
\item One-sample design: Standardizes the difference between the sample mean and zero (or other specified value)
\item Two-sample independent design: Standardizes the difference between two group means
\item Paired samples design: Standardizes the mean difference between paired observations
}

The function supports multiple SMD variants:
\itemize{
\item Cohen's d: Classic standardized mean difference (bias_correction = FALSE)
\item Hedges' g: Bias-corrected version of Cohen's d (bias_correction = TRUE)
\item Glass's delta: Uses only one group's standard deviation as the denominator (glass = "glass1" or "glass2")
\item Repeated measures d: Accounts for correlation in paired designs (rm_correction = TRUE)
}

Different confidence interval calculation methods are available:
\itemize{
\item "nct": Uses the noncentral t-distribution (most accurate in most cases)
\item "goulet": Uses the Goulet-Pelletier method
\item "t": Uses the central t-distribution
\item "z": Uses the normal distribution
}

For detailed information on calculation methods, see \code{vignette("SMD_calcs")}.
}
\section{Purpose}{

Use this function when:
\itemize{
\item You need to calculate standardized effect sizes (Cohen's d, Hedges' g, Glass's delta)
\item You want confidence intervals for your effect size estimates
\item You need effect sizes for meta-analysis or reporting
\item You want to compare effect sizes across different studies or measures
\item You want to test hypotheses about effect size magnitudes (e.g., equivalence testing)
}
}

\examples{
# Example 1: Independent groups comparison (Cohen's d)
set.seed(123)
group1 <- rnorm(30, mean = 100, sd = 15)
group2 <- rnorm(30, mean = 110, sd = 18)
smd_calc(x = group1, y = group2, bias_correction = FALSE)

# Example 2: Independent groups with formula notation (Hedges' g)
df <- data.frame(
  value = c(group1, group2),
  group = factor(rep(c("A", "B"), each = 30))
)
smd_calc(formula = value ~ group, data = df)

# Example 3: Paired samples with repeated measures correction
before <- c(5.1, 4.8, 6.2, 5.7, 6.0, 5.5, 4.9, 5.8)
after <- c(5.6, 5.2, 6.7, 6.1, 6.5, 5.8, 5.3, 6.2)
smd_calc(x = before, y = after, paired = TRUE, rm_correction = TRUE)

# Example 4: Glass's delta (using only first group's SD)
smd_calc(x = group1, y = group2, glass = "glass1")

# Example 5: Two-sided test against null of 0
smd_calc(x = group1, y = group2,
         alternative = "two.sided", null.value = 0)

# Example 6: Equivalence test (TOST)
smd_calc(x = group1, y = group2,
         alternative = "equivalence", null.value = c(-0.5, 0.5))

# Example 7: Using t-distribution for test
smd_calc(x = group1, y = group2,
         alternative = "two.sided", null.value = 0,
         test_method = "t", smd_ci = "t")

# Example 8: Legacy data.frame output
smd_calc(x = group1, y = group2, output = "data.frame")

}
\seealso{
Other effect sizes: 
\code{\link{boot_ses_calc}()},
\code{\link{boot_smd_calc}()},
\code{\link{ses_calc}()}
}
\concept{effect sizes}
